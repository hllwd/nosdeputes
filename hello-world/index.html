<!DOCTYPE html>
<html>
<head>
    <title>hello world</title>

    <style>
        body {
            margin: 0;
        }

        /* reset */
        canvas {
            width: 100%;
            height: 100%
        }
    </style>
</head>
<body>

<script src="../other_components/Three/three.min.js"></script>
<script src="../other_components/Detector/Detector.js"></script>
<script src="../other_components/THREEx.FullScreen/THREEx.FullScreen.js"></script>
<script src="../bower_components/threex.windowresize/threex.windowresize.js"></script>
<script src="../other_components/OrbitControls/OrbitControls.js"></script>

<div id="container" style="z-index: 1; position: absolute; left:0px; top:0px"></div>

<script>

    !function () {

        var container, scene, camera, renderer, controls;


        function setup() {

            // width
            var w = window.innerWidth;
            // height
            var h = window.innerHeight;
            var viewAngle = 45;
            var aspect = w / h;
            var near = 0.1;
            var far = 20000;
            var light;
            var sphereGeometry;
            var sphereMaterial;
            var sphere;
            var axes;
            var floorTexture;
            var floorMaterial;
            var floorGeometry;
            var floor;
            var skyBoxGeometry;
            var skyBoxMaterial;
            var skyBox;

            // scene
            scene = new THREE.Scene();

            // camera
            camera = new THREE.PerspectiveCamera(viewAngle, aspect, near, far);
            // add the camera to the scene at the default position (0,0,0)
            scene.add(camera);
            // so pull it back (z = 400) and up (y = 100)
            camera.position.set(0, 100, 400);
            // and set the angle towards the scene origin
            camera.lookAt(scene.position);

            // renderer
            if (Detector.webgl) {
                renderer = new THREE.WebGLRenderer({
                    antialias: true
                });
            } else {
                renderer = new THREE.CanvasRenderer();
            }
            renderer.setSize(w, h);

            // container
            container = document.getElementById('container');
            // attach renderer to the container
            container.appendChild(renderer.domElement);

            // events
            // automatically resize renderer
            THREEx.WindowResize(renderer, camera);
            // toggle full screen on given key-press
            THREEx.FullScreen.bindKey({
                charCode: 'm'.charCodeAt(0)
            });

            // controls
            controls = new THREE.OrbitControls(camera, renderer.domElement);

            // light
            light = new THREE.PointLight(0xffffff);
            light.position.set(0, 250, 0);
            scene.add(light);

            // sphere : radius, segments along with, segments along height
            sphereGeometry = new THREE.SphereGeometry(50, 32, 16);
            // sphere material, we use a lambert for a more realistic lighting
            sphereMaterial = new THREE.MeshLambertMaterial({
                color: 0x8888ff
            });
            // create the sphere
            sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
            sphere.position.set(100, 50, -50);
            scene.add(sphere);

            // axes
            axes = new THREE.AxisHelper(100);
            scene.add(axes);

            // floor
            floorTexture = new THREE.ImageUtils.loadTexture('img/checkerboard.jpg');
            floorTexture.wrapS = floorTexture.wrapT = THREE.RepeatWrapping;
            floorTexture.repeat.set(10, 10);
            // double side
            floorMaterial = new THREE.MeshBasicMaterial({
                map: floorTexture,
                side: THREE.DoubleSide
            });
            floorGeometry = new THREE.PlaneGeometry(1000, 1000, 1, 1);
            floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.position.y = -.5;
            floor.rotation.x = Math.PI / 2;
            scene.add(floor);

            // sky
            // ! make sure the camera's far is big enough to render the sky
            skyBoxGeometry = new THREE.CubeGeometry(10000, 10000, 10000);
            skyBoxMaterial = new THREE.MeshBasicMaterial({
                color: 0x9999ff,
                side: THREE.BackSide
            });
            skyBox = new THREE.Mesh(skyBoxGeometry, skyBoxMaterial);
            scene.add(skyBox);

        };

        function animate() {
            requestAnimationFrame(animate);
            render();
            update();
        };

        function update() {
            controls.update();
        };

        function render() {
            renderer.render(scene, camera);
        };

        setup();

        animate();


    }();


</script>

</body>
</html>